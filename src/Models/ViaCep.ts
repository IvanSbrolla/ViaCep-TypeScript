import axios from 'axios'
import IViaCep from "../Interfaces/IViaCep"

export default class ViaCep implements IViaCep {
    cep: string;
    logradouro: string;
    complemento: string;
    bairro: string;
    localidade: string;
    uf: string;
    ibge: string;
    gia: string;
    ddd: string;
    siafi: string;

    constructor(
        cep: string,
        logradouro: string,
        complemento: string,
        bairro: string,
        localidade: string,
        uf: string,
        ibge: string,
        gia: string,
        ddd: string,
        siafi: string
    ) {
        this.cep = cep;
        this.logradouro = logradouro;
        this.complemento = complemento;
        this.bairro = bairro;
        this.localidade = localidade;
        this.uf = uf;
        this.ibge = ibge;
        this.gia = gia;
        this.ddd = ddd;
        this.siafi = siafi;
    }

    static async get(cep: string): Promise<IViaCep> {
        const {data} = await axios.get<IViaCep>(`https://viacep.com.br/ws/${cep}/json/`)
            .then(response => response)
        return data
    }

}